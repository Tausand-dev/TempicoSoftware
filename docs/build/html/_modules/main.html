

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>main &mdash; Tempico Software 1.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=def9ab29"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Tempico Software
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../FLIMGraphics.html">FLIMGraphics module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StartStopHist.html">StartStopHist module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aboutDialog.html">aboutDialog module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../createsavefile.html">createsavefile module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../findDevices.html">findDevices module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generalsettings.html">generalsettings module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main.html">main module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Tempico Software</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module code</a></li>
      <li class="breadcrumb-item active">main</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for main</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">PySide2.QtWidgets</span> <span class="kn">import</span> <span class="n">QLabel</span><span class="p">,</span> <span class="n">QTabWidget</span><span class="p">,</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QVBoxLayout</span><span class="p">,</span> <span class="n">QPushButton</span><span class="p">,</span> <span class="n">QHBoxLayout</span><span class="p">,</span> <span class="n">QDialog</span><span class="p">,</span> <span class="n">QMessageBox</span><span class="p">,</span> <span class="n">QSplashScreen</span><span class="p">,</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QMainWindow</span><span class="p">,</span> <span class="n">QAction</span>
<span class="kn">from</span> <span class="nn">PySide2.QtGui</span> <span class="kn">import</span> <span class="n">QPixmap</span><span class="p">,</span> <span class="n">QIcon</span>
<span class="kn">from</span> <span class="nn">PySide2.QtCore</span> <span class="kn">import</span> <span class="n">QTimer</span><span class="p">,</span> <span class="n">QSize</span><span class="p">,</span> <span class="n">Qt</span>
<span class="kn">from</span> <span class="nn">PySide2.QtWidgets</span> <span class="kn">import</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QTabWidget</span><span class="p">,</span> <span class="n">QSystemTrayIcon</span>
<span class="kn">from</span> <span class="nn">generalsettings</span> <span class="kn">import</span> <span class="n">GeneralSettingsWindow</span>
<span class="kn">from</span> <span class="nn">aboutDialog</span> <span class="kn">import</span> <span class="n">Ui_AboutDialog</span>
<span class="kn">from</span> <span class="nn">ui_StarStopHistogram</span> <span class="kn">import</span> <span class="n">Ui_HistogramaStartStop</span>
<span class="kn">from</span> <span class="nn">ui_g2measurement</span> <span class="kn">import</span> <span class="n">Ui_G2</span>
<span class="kn">from</span> <span class="nn">ui_devicesDialog</span> <span class="kn">import</span> <span class="n">Ui_Devices</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">PySide2.QtCore</span> <span class="kn">import</span> <span class="n">QTimer</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="c1">#To do eliminate import</span>
<span class="kn">from</span> <span class="nn">createsavefile</span> <span class="kn">import</span> <span class="n">createsavefile</span> <span class="k">as</span> <span class="n">savefile</span>
<span class="kn">from</span> <span class="nn">ui_settings</span> <span class="kn">import</span> <span class="n">Ui_settings</span>
<span class="kn">from</span> <span class="nn">uiParametersDialog</span> <span class="kn">import</span> <span class="n">UiParameters</span>
<span class="kn">from</span> <span class="nn">ParametersDialog</span> <span class="kn">import</span> <span class="n">CountParameters</span>
<span class="kn">from</span> <span class="nn">StartStopHist</span> <span class="kn">import</span> <span class="n">StartStopLogic</span>
<span class="kn">from</span> <span class="nn">constants</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">ui_FLIMmeasurement</span> <span class="kn">import</span> <span class="n">UiFLIM</span>
<span class="kn">from</span> <span class="nn">FLIMGraphics</span> <span class="kn">import</span> <span class="n">FLIMGraphic</span>
<span class="kn">import</span> <span class="nn">sys</span>



<div class="viewcode-block" id="SplashScreen"><a class="viewcode-back" href="../main.html#main.SplashScreen">[docs]</a><span class="k">class</span> <span class="nc">SplashScreen</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Splash screen class for the application.</span>

<span class="sd">    This class creates a splash screen that displays an image for a brief period before fading out and transitioning to the main application window.</span>

<span class="sd">    The key responsibilities of this class include:</span>
<span class="sd">    - Displaying a splash screen with a specified image.</span>
<span class="sd">    - Timing the display duration and handling the transition to the main application window.</span>
<span class="sd">    </span>
<span class="sd">    :param parent: The parent widget (optional).</span>
<span class="sd">    :type parent: QWidget, optional</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Splash Screen&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setFixedSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
        

        <span class="c1"># Crear una etiqueta para mostrar la imagen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_label</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>

        <span class="c1"># Cargar la imagen</span>
        <span class="n">pixmap</span> <span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">BANNER</span><span class="p">)</span>  <span class="c1"># Ajusta la ruta de tu imagen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_label</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>

        <span class="c1"># Mostrar la ventana principal después de 3 segundos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">setSingleShot</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_main_window</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>  <span class="c1"># Tiempo en milisegundos</span>

<div class="viewcode-block" id="SplashScreen.show_main_window"><a class="viewcode-back" href="../main.html#main.SplashScreen.show_main_window">[docs]</a>    <span class="k">def</span> <span class="nf">show_main_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Displays the main window of the application.</span>

<span class="sd">        This function creates an instance of the main window (`MainWindow`) and displays it.</span>
<span class="sd">        After showing the main window, it closes the current window.</span>

<span class="sd">        It does not take any parameters and does not return a value.</span>
<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_window</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="MainWindow"><a class="viewcode-back" href="../main.html#main.MainWindow">[docs]</a><span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main application window class.</span>

<span class="sd">    This class is responsible for creating the main window of the application, including its tabs and graphical user interface (GUI) components. </span>
<span class="sd">    It serves as a bridge between the UI classes that handle the design elements and the logic classes that manage the application&#39;s functionalities.</span>

<span class="sd">    The main tasks of this class include:</span>
<span class="sd">    - Initializing the main window and its layout.</span>
<span class="sd">    - Creating and managing tabs for different sections of the application.</span>
<span class="sd">    - Integrating UI design elements with the logical operations for each functionality.</span>
<span class="sd">    </span>
<span class="sd">    :param parent: The parent widget (optional).</span>
<span class="sd">    :param args: Additional arguments.</span>
<span class="sd">    :type parent: QWidget, optional</span>
<span class="sd">    :type args: tuple</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MainWindow</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>
        <span class="c1">#------Window parameters---------#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">savefile</span><span class="o">=</span><span class="n">savefile</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">savefile</span><span class="o">.</span><span class="n">create_folder_and_file</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Tempico Software&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">700</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="n">ICON_LOCATION</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setMinimumSize</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">700</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">FLIMTimer</span><span class="o">=</span><span class="n">QTimer</span><span class="p">()</span>
        

        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s1">&#39;win32&#39;</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">ctypes</span>
            <span class="n">myappid</span> <span class="o">=</span> <span class="n">APPID</span>  <span class="c1"># arbitrary string</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">windll</span><span class="o">.</span><span class="n">shell32</span><span class="o">.</span><span class="n">SetCurrentProcessExplicitAppUserModelID</span><span class="p">(</span><span class="n">myappid</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s1">&#39;linux&#39;</span><span class="p">:</span>
            <span class="n">tray_icon</span> <span class="o">=</span> <span class="n">QSystemTrayIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="n">ICON_LOCATION</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span> 
            <span class="n">tray_icon</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Tempico Software&quot;</span><span class="p">)</span>
            
            

        <span class="c1">#------Menu bar-------------#</span>
        <span class="n">menu_bar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">menuBar</span><span class="p">()</span>
        <span class="c1">#file_menu = menu_bar.addMenu(&quot;File&quot;)</span>
        <span class="n">settings_menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s2">&quot;Settings&quot;</span><span class="p">)</span>
        <span class="c1">#help_menu = menu_bar.addMenu(&quot;Help&quot;)</span>
        <span class="n">about_menu</span> <span class="o">=</span> <span class="n">menu_bar</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s2">&quot;About&quot;</span><span class="p">)</span>
        <span class="c1">#Parameters_menu</span>



        <span class="c1">#parameters_menu=menu_bar.addMenu(&quot;Parameters&quot;)</span>


        <span class="c1">#-----Actions for file--------#</span>
        <span class="c1">#save_action=QAction(&quot;Save&quot;,self)</span>
        <span class="c1">#new_action=QAction(&quot;New&quot;,self)</span>
        <span class="c1">#Open_action=QAction(&quot;Open&quot;,self)</span>
        <span class="c1">#file_menu.addAction(save_action)</span>
        <span class="c1">#file_menu.addAction(new_action)</span>
        <span class="c1">#file_menu.addAction(Open_action)</span>
        <span class="c1">#-----Actions for settings--------#</span>
        <span class="n">change_parameters_action</span><span class="o">=</span><span class="n">QAction</span><span class="p">(</span><span class="s2">&quot;Channels settings&quot;</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">settings_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">change_parameters_action</span><span class="p">)</span>
        <span class="n">change_parameters_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_clicked</span><span class="p">)</span>
        <span class="n">general_settings_action</span><span class="o">=</span><span class="n">QAction</span><span class="p">(</span><span class="s2">&quot;General settings&quot;</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">settings_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">general_settings_action</span><span class="p">)</span>
        <span class="n">general_settings_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">general_settings_clicked</span><span class="p">)</span>
        <span class="n">about_settings_action</span><span class="o">=</span><span class="n">QAction</span><span class="p">(</span><span class="s2">&quot;About Tempico Software&quot;</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">about_settings_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">about_settings</span><span class="p">)</span>
        <span class="n">about_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">about_settings_action</span><span class="p">)</span>
        <span class="c1">#parameters_settings_action=QAction(&quot;Get Count Parameters&quot;,self)</span>
        <span class="c1">#parameters_settings_action.triggered.connect(self.parameters_action)</span>
        <span class="c1">#parameters_menu.addAction(parameters_settings_action)</span>
        
        <span class="c1">#-----Qtabs for every type of measure--------#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">=</span><span class="n">QTabWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="o">=</span><span class="n">QWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab2</span><span class="o">=</span><span class="n">QWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab3</span><span class="o">=</span><span class="n">QWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="p">,</span><span class="s2">&quot;Start-Stop histogram&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab2</span><span class="p">,</span><span class="s2">&quot;Lifetime&quot;</span><span class="p">)</span>
        <span class="c1">#self.tabs.addTab(self.tab3,&quot;g2 Measurement&quot;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">700</span><span class="p">)</span>
        <span class="c1"># Crear un QVBoxLayout para agregar el QTabWidget</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="p">)</span>
        <span class="c1">#layout.setContentsMargins(0, 30, 0, 0)</span>
        <span class="c1"># Establecer el layout en la ventana principal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sentinel1</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">main_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">main_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="n">main_widget</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">construct_start_stop_histogram</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connectButton</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Connect&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disconnectButton</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Disconnect&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        
        <span class="n">buttonLayout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">buttonLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">connectButton</span><span class="p">)</span>
        <span class="n">buttonLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">disconnectButton</span><span class="p">)</span>
        
        <span class="c1"># Crear un QWidget para contener los QTabWidget y los botones</span>
        <span class="n">mainWidget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="n">mainWidget</span><span class="p">)</span>
        
        <span class="c1">#------g2 Graphic class---------#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">g2_init_sentinel</span><span class="o">=</span><span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initg2DialogSentinel</span><span class="o">=</span><span class="mi">0</span>
        <span class="c1">#------FLIM Graphic class---------#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flim_init_sentinel</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">mainLayout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="n">mainWidget</span><span class="p">)</span>
        <span class="n">mainLayout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">buttonLayout</span><span class="p">)</span>  
        <span class="n">mainLayout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">mainLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">connectsentinel</span><span class="o">=</span><span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connectButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_dialog</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disconnectButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">disconnect_button_click</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sentinel2</span><span class="o">=</span><span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sentinel3</span><span class="o">=</span><span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">currentChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clicked_tabs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_dialog</span><span class="p">()</span>
        

    <span class="c1">#-----Functions for construc every Qtab--------#</span>
<div class="viewcode-block" id="MainWindow.construct_start_stop_histogram"><a class="viewcode-back" href="../main.html#main.MainWindow.construct_start_stop_histogram">[docs]</a>    <span class="k">def</span> <span class="nf">construct_start_stop_histogram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs the Start/Stop Histogram window.</span>

<span class="sd">        This function takes a `QTabWidget` parent, and if the sentinel is not set, it creates</span>
<span class="sd">        an instance of the `Ui_HistogramaStartStop` class and sets up the UI using the given parent.</span>

<span class="sd">        It does not return a value.</span>

<span class="sd">        :param parent: The parent widget (typically a `QTabWidget`) for the histogram window.</span>
<span class="sd">        :type parent: QWidget</span>
<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sentinel1</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_HistogramaStartStop</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sentinel1</span><span class="o">=</span><span class="mi">1</span></div>

<div class="viewcode-block" id="MainWindow.construct_lifetime"><a class="viewcode-back" href="../main.html#main.MainWindow.construct_lifetime">[docs]</a>    <span class="k">def</span> <span class="nf">construct_lifetime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs the Lifetime Measurements window.</span>

<span class="sd">        This function takes a `QTabWidget` parent, and if the sentinel is not set, it creates </span>
<span class="sd">        an instance of the `UiFLIM` class and sets up the UI using the given parent.</span>

<span class="sd">        It does not return a value.</span>

<span class="sd">        :param parent: The parent widget (typically a `QTabWidget`) for the lifetime measurements window.</span>
<span class="sd">        :type parent: QWidget</span>
<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sentinel2</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span> <span class="o">=</span> <span class="n">UiFLIM</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sentinel2</span><span class="o">=</span><span class="mi">1</span></div>
    
<div class="viewcode-block" id="MainWindow.construct_g2"><a class="viewcode-back" href="../main.html#main.MainWindow.construct_g2">[docs]</a>    <span class="k">def</span> <span class="nf">construct_g2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs the g2 Measurements window.</span>

<span class="sd">        This function takes a `QTabWidget` parent, and if the sentinel is not set, it creates </span>
<span class="sd">        an instance of the `Uig2` class and sets up the UI using the given parent.</span>

<span class="sd">        It does not return a value.</span>

<span class="sd">        :param parent: The parent widget (typically a `QTabWidget`) for the lifetime measurements window.</span>
<span class="sd">        :type parent: QWidget</span>
<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sentinel3</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">uig2</span> <span class="o">=</span> <span class="n">Ui_G2</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">uig2</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sentinel3</span><span class="o">=</span><span class="mi">1</span></div>

<div class="viewcode-block" id="MainWindow.open_dialog"><a class="viewcode-back" href="../main.html#main.MainWindow.open_dialog">[docs]</a>    <span class="k">def</span> <span class="nf">open_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens a dialog window to detect and connect a measurement device.</span>

<span class="sd">        This function creates and displays a dialog window that lists available measurement devices and their corresponding ports. </span>
<span class="sd">        Users can select a device and either connect or cancel the operation. </span>

<span class="sd">        If the &#39;Connect&#39; button is clicked:</span>
<span class="sd">        - The selected device is connected, and all relevant software options are enabled.</span>
<span class="sd">        - The function tries to open the device and, upon success, interacts with graphical components (if any are present) to reflect the connected status.</span>

<span class="sd">        If the &#39;Cancel&#39; button is clicked:</span>
<span class="sd">        - No options are activated.</span>

<span class="sd">        In case of a connection error, a message box is displayed informing the user of the failure.</span>

<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">=</span><span class="n">QDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uidialog</span> <span class="o">=</span> <span class="n">Ui_Devices</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uidialog</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">uidialog</span><span class="o">.</span><span class="n">deviceConnected</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connectsentinel</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connectButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">disconnectButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">.</span><span class="n">connectDevice</span><span class="p">()</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">.</span><span class="n">connectedDevice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="p">)</span>
                        
                
                    <span class="n">checkchannel1</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">Channel1Graph1</span>
                    <span class="n">checkchannel2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">Channel4Graph1</span>
                    <span class="n">checkchannel3</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">Channel2Graph1</span>
                    <span class="n">checkchannel4</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">Channel3Graph1</span>
                    <span class="n">startbutton</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">SaveGraph1</span>
                    <span class="n">stopbutton</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">StopGraph1</span>
                    <span class="n">savebutton</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">SaveDoc</span>
                    <span class="c1">#Save Plots</span>
                    <span class="n">save_graph_1</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">SaveImage1</span>
                    
                    <span class="c1">#Clear Plots</span>
                    <span class="n">clear_channel_A</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ClearchannelA</span>
                    <span class="n">clear_channel_B</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ClearchannelB</span>
                    <span class="n">clear_channel_C</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ClearchannelC</span>
                    <span class="n">clear_channel_D</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ClearchannelD</span>
                    
                    <span class="n">channel1</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">.</span><span class="n">ch1</span>
                    
                    <span class="n">channel2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">.</span><span class="n">ch2</span>
                    
                    <span class="n">channel3</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">.</span><span class="n">ch3</span>
                    
                    <span class="n">channel4</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">.</span><span class="n">ch4</span>
                    
                    
                    <span class="bp">self</span><span class="o">.</span><span class="n">connectsentinel</span><span class="o">=</span><span class="mi">1</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">grafico</span><span class="o">=</span><span class="n">StartStopLogic</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">Graph3</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">disconnectButton</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="p">,</span><span class="n">checkchannel1</span><span class="p">,</span><span class="n">checkchannel2</span><span class="p">,</span><span class="n">checkchannel3</span><span class="p">,</span><span class="n">checkchannel4</span><span class="p">,</span><span class="n">startbutton</span><span class="p">,</span><span class="n">stopbutton</span><span class="p">,</span><span class="n">savebutton</span><span class="p">,</span><span class="n">save_graph_1</span><span class="p">,</span><span class="n">clear_channel_A</span><span class="p">,</span><span class="n">clear_channel_B</span><span class="p">,</span><span class="n">clear_channel_C</span><span class="p">,</span><span class="n">clear_channel_D</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">connectButton</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">valueStatusLabel</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pointLabel</span><span class="p">)</span>
                    
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">msg_box</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                    <span class="n">msg_box</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Connection with the device failed. Check if another software is using the Tempico device or verify the hardware status.&quot;</span><span class="p">)</span>
                    <span class="n">msg_box</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Connection Error&quot;</span><span class="p">)</span>
                    <span class="n">pixmap</span><span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;/Sources/tausand_small.ico&quot;</span><span class="p">)</span>
                    <span class="n">msg_box</span><span class="o">.</span><span class="n">setIconPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>
                    <span class="n">msg_box</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Critical</span><span class="p">)</span>
                    <span class="n">msg_box</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
                    <span class="n">msg_box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">connectButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">disconnectButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                    
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;grafico&#39;</span><span class="p">):</span>  <span class="c1"># Verificar si self.grafico está definido</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">openSentinel</span><span class="o">=</span><span class="kc">False</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
                            <span class="n">openSentinel</span><span class="o">=</span><span class="kc">True</span>
                        <span class="k">except</span><span class="p">:</span>
                            <span class="k">pass</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">!=</span><span class="kc">None</span> <span class="ow">and</span> <span class="n">openSentinel</span><span class="p">:</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">.</span><span class="n">connectDevice</span><span class="p">()</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">!=</span><span class="kc">None</span> <span class="ow">and</span> <span class="n">openSentinel</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">.</span><span class="n">connectedDevice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">grafico</span><span class="o">.</span><span class="n">show_graphic</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">connectButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">disconnectButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="n">msg_box</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                        <span class="n">msg_box</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Connection with the device failed. Check if another software is using the Tempico device or verify the hardware status.&quot;</span><span class="p">)</span>
                        <span class="n">msg_box</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Connection Error&quot;</span><span class="p">)</span>
                        <span class="n">pixmap</span><span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;/Sources/tausand_small.ico&quot;</span><span class="p">)</span>
                        <span class="n">msg_box</span><span class="o">.</span><span class="n">setIconPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>
                        <span class="n">msg_box</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Critical</span><span class="p">)</span>
                        <span class="n">msg_box</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
                        <span class="n">msg_box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
                
        <span class="k">else</span><span class="p">:</span>
            <span class="n">openSentinel</span><span class="o">=</span><span class="kc">False</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
                <span class="n">openSentinel</span><span class="o">=</span><span class="kc">True</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">!=</span><span class="kc">None</span> <span class="ow">and</span> <span class="n">openSentinel</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">.</span><span class="n">connectDevice</span><span class="p">()</span> 
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">!=</span><span class="kc">None</span> <span class="ow">and</span> <span class="n">openSentinel</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">.</span><span class="n">connectedDevice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connectButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disconnectButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>
       
<div class="viewcode-block" id="MainWindow.disconnect_button_click"><a class="viewcode-back" href="../main.html#main.MainWindow.disconnect_button_click">[docs]</a>    <span class="k">def</span> <span class="nf">disconnect_button_click</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles the disconnect button click event.</span>

<span class="sd">        This function hides the graphical display, disables the disconnect button, and re-enables the connect button. </span>
<span class="sd">        It also closes the connected device and resets its reference to `None`. </span>
<span class="sd">        If additional graphics like `g2Graphic` or `FLIMGraphic` are active, it will disconnect them as well.</span>

<span class="sd">        It does not take any parameters and does not return a value.</span>
<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;grafico&#39;</span><span class="p">):</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">grafico</span><span class="o">.</span><span class="n">hide_graphic2</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connectButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disconnectButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">=</span><span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">.</span><span class="n">disconnectDevice</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">.</span><span class="n">disconnectedDevice</span><span class="p">()</span></div>
            
                    
        

    <span class="c1">#-----Functions for settings clicked--------#</span>
<div class="viewcode-block" id="MainWindow.clicked_tabs"><a class="viewcode-back" href="../main.html#main.MainWindow.clicked_tabs">[docs]</a>    <span class="k">def</span> <span class="nf">clicked_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">          </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">          Executes an action when a tab is clicked and creates the corresponding window.</span>
<span class="sd">  </span>
<span class="sd">          This function checks which tab is currently active and constructs the associated window </span>
<span class="sd">          by invoking the appropriate function. If the tab corresponds to the Start/Stop Histogram, </span>
<span class="sd">          it stops the FLIM timer and constructs the Start/Stop Histogram window. If the tab corresponds </span>
<span class="sd">          to the Lifetime Measurements, it constructs the Lifetime window and sets up the FLIM logic if it </span>
<span class="sd">          has not been initialized yet.</span>
<span class="sd">  </span>
<span class="sd">          It does not take any parameters and does not return a value.</span>
<span class="sd">          :returns: None</span>
<span class="sd">          &quot;&quot;&quot;</span>
          <span class="n">valor_padre</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
          <span class="n">padre</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tab1</span>
          <span class="k">if</span> <span class="n">valor_padre</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">FLIMTimer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
              <span class="n">padre</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tab1</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">construct_start_stop_histogram</span><span class="p">(</span><span class="n">padre</span><span class="p">)</span>
          <span class="k">elif</span> <span class="n">valor_padre</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
              <span class="n">padre</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tab2</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">construct_lifetime</span><span class="p">(</span><span class="n">padre</span><span class="p">)</span>
              <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">==</span><span class="kc">None</span><span class="p">:</span>
                  <span class="c1">#Get the data to create the logic class for FLIM measurement</span>
                  <span class="n">comboBoxStartChannel</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">startChannelComboBox</span>
                  <span class="n">comboBoxStopChannel</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">stopChannelComboBox</span>
                  <span class="n">graphicsFrame</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">graphicFrame</span>
                  <span class="n">startButton</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">startButton</span>
                  <span class="n">stopButton</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">stopButton</span>
                  <span class="n">clearButton</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">clearButton</span>
                  <span class="n">saveDataButton</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">saveDataFileButton</span>
                  <span class="n">savePlotButton</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">savePlotButton</span>
                  <span class="n">initialParametersButton</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">buttonParameterLabel</span>
                  <span class="n">statusLabel</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">statusValue</span>
                  <span class="n">pointLabel</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">drawPointLabel</span>
                  <span class="n">comboBoxBinWidth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">binWidthComboBox</span>
                  <span class="n">spinBoxNumberMeasurements</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">numberMeasurementsSpinBox</span>
                  <span class="n">totalTime</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">totalStopsValue</span>
                  <span class="n">totalMeasurements</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">totalMeasurementsValue</span>
                  <span class="n">totalStarts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">totalStartsValue</span>
                  <span class="n">applyButton</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">applyButtton</span>
                  <span class="n">functionComboBox</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">functionComboBox</span>
                  <span class="n">parametersTable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">parametersTable</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">parametersTable</span><span class="o">=</span><span class="n">parametersTable</span>
                  <span class="n">timeRange</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">timeRangeValue</span>
                  <span class="n">numberBinsComboBox</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uiFLIM</span><span class="o">.</span><span class="n">numberBinsComboBox</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">=</span><span class="n">FLIMGraphic</span><span class="p">(</span><span class="n">comboBoxStartChannel</span><span class="p">,</span> <span class="n">comboBoxStopChannel</span><span class="p">,</span><span class="n">graphicsFrame</span><span class="p">,</span><span class="n">startButton</span><span class="p">,</span><span class="n">stopButton</span><span class="p">,</span><span class="n">initialParametersButton</span><span class="p">,</span>
                                               <span class="n">clearButton</span><span class="p">,</span><span class="n">saveDataButton</span><span class="p">,</span><span class="n">savePlotButton</span><span class="p">,</span><span class="n">statusLabel</span><span class="p">,</span><span class="n">pointLabel</span><span class="p">,</span><span class="n">comboBoxBinWidth</span><span class="p">,</span><span class="n">numberBinsComboBox</span><span class="p">,</span><span class="n">functionComboBox</span><span class="p">,</span>
                                               <span class="n">spinBoxNumberMeasurements</span><span class="p">,</span><span class="n">totalMeasurements</span><span class="p">,</span><span class="n">totalStarts</span><span class="p">,</span><span class="n">totalTime</span><span class="p">,</span><span class="n">timeRange</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="p">,</span>
                                               <span class="n">applyButton</span><span class="p">,</span><span class="n">parametersTable</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">FLIMTimer</span><span class="p">)</span>
                  <span class="c1">#If this sentinel dont have any use DELETE</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">flim_init_sentinel</span><span class="o">=</span><span class="mi">1</span></div>
        <span class="c1">#   elif valor_padre==1:</span>
              
        <span class="c1">#       padre=self.tab3</span>
        <span class="c1">#       self.construct_g2(padre)</span>
        <span class="c1">#       if self.g2Graphic ==None:</span>
        <span class="c1">#           comboBoxChannel1=self.uig2.Channel1ComboBox</span>
        <span class="c1">#           comboBoxChannel2=self.uig2.Channel2ComboBox</span>
        <span class="c1">#           graphicFrame=self.uig2.GraphicFrame</span>
        <span class="c1">#           HelpButton=self.uig2.HelpButton.clicked.connect(self.Helpg2Button)</span>
        <span class="c1">#           startButton=self.uig2.StartButton</span>
        <span class="c1">#           stopButton=self.uig2.StopButton</span>
        <span class="c1">#           saveDataButton=self.uig2.SaveDataButton</span>
        <span class="c1">#           savePlotButton=self.uig2.SavePlotButton</span>
        <span class="c1">#           N1Label=self.uig2.CountChannel1Value</span>
        <span class="c1">#           N2Label=self.uig2.CountChannel2Value</span>
        <span class="c1">#           LabelStatus=self.uig2.StatusValueMeasuremen</span>
        <span class="c1">#           PointStatus=self.uig2.StatusPoint</span>
        <span class="c1">#           comboBoxBin=self.uig2.BinWidthValue</span>
        <span class="c1">#           self.g2Graphic=g2Graphic(self,comboBoxChannel1,comboBoxChannel2,startButton,stopButton,saveDataButton,</span>
        <span class="c1">#                                    savePlotButton,N1Label,N2Label,LabelStatus,PointStatus,self.g2_init_sentinel,graphicFrame,comboBoxBin)</span>
        <span class="c1">#           self.g2_init_sentinel=1</span>
        <span class="c1">#       if self.initg2DialogSentinel==0:</span>
        <span class="c1">#         self.Helpg2Button()</span>
        <span class="c1">#         self.initg2DialogSentinel=1</span>
        <span class="c1">#Important when g2 is unified with FLIM CHANGE THE INDEX TO 2</span>
        
        
<span class="c1">#The g2 functions are not use for the versions 1.1 comment for future versions</span>
   
<div class="viewcode-block" id="MainWindow.Helpg2Button"><a class="viewcode-back" href="../main.html#main.MainWindow.Helpg2Button">[docs]</a>    <span class="k">def</span> <span class="nf">Helpg2Button</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">message_box</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">message_box</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Information</span><span class="p">)</span>
        <span class="n">message_box</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;g2 measurement information&quot;</span><span class="p">)</span>
        <span class="n">message_box</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
        <span class="n">custom_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="n">custom_widget</span><span class="p">)</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">custom_widget</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="n">pixmap</span> <span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="s1">&#39;Sources/Help.png&#39;</span><span class="p">)</span>
        
        <span class="n">pixmap</span> <span class="o">=</span> <span class="n">pixmap</span><span class="o">.</span><span class="n">scaledToWidth</span><span class="p">(</span><span class="mi">700</span><span class="p">)</span>
        <span class="n">label</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>

        <span class="n">message_box</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">custom_widget</span><span class="p">)</span>

        
        <span class="n">message_box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span></div>
        
              
                  
<div class="viewcode-block" id="MainWindow.settings_clicked"><a class="viewcode-back" href="../main.html#main.MainWindow.settings_clicked">[docs]</a>    <span class="k">def</span> <span class="nf">settings_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens the settings window when the settings option is clicked.</span>

<span class="sd">        This function checks if a device is connected. If no measurement is currently running, </span>
<span class="sd">        it displays the settings window for channel configuration. If a measurement is running, </span>
<span class="sd">        a message box is shown informing the user that changes cannot be made while a measurement </span>
<span class="sd">        is in progress. If no device is connected, a message box alerts the user that no device </span>
<span class="sd">        was found.</span>

<span class="sd">        It does not take any parameters and does not return a value.</span>
<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">grafico</span><span class="o">.</span><span class="n">currentmeasurement</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dialog_settings</span><span class="o">=</span><span class="n">QDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">settings_channels</span> <span class="o">=</span> <span class="n">Ui_settings</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">settings_channels</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dialog_settings</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dialog_settings</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">message_box</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Running measurement&quot;</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;It is not possible to make changes when a measurement is running.&quot;</span><span class="p">)</span>
                <span class="n">pixmap</span><span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">ICON_LOCATION</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setIconPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Information</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
    
                
        <span class="k">else</span><span class="p">:</span>
            <span class="n">message_box</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;No connected device&quot;</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;No connected device was found&quot;</span><span class="p">)</span>
            <span class="n">pixmap</span><span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">ICON_LOCATION</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setIconPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Information</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="MainWindow.general_settings_clicked"><a class="viewcode-back" href="../main.html#main.MainWindow.general_settings_clicked">[docs]</a>    <span class="k">def</span> <span class="nf">general_settings_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens the general settings window for device-wide configurations.</span>

<span class="sd">        This function checks if a device is connected. If no measurement is currently running, </span>
<span class="sd">        it opens the general settings window where configurations that affect the entire device </span>
<span class="sd">        (regardless of the channel) can be adjusted. If a measurement is running, a message box </span>
<span class="sd">        is displayed to inform the user that changes cannot be made while the measurement is in </span>
<span class="sd">        progress. If no device is connected, a message box is shown indicating that no device was found.</span>

<span class="sd">        It does not take any parameters and does not return a value.</span>
<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">grafico</span><span class="o">.</span><span class="n">currentmeasurement</span><span class="p">:</span>
                <span class="n">settings_windows</span><span class="o">=</span><span class="n">GeneralSettingsWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="p">)</span>
                <span class="n">settings_windows</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">message_box</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># Icono de advertencia</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Running measurement&quot;</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;It is not possible to make changes when a measurement is running.&quot;</span><span class="p">)</span>
                <span class="n">pixmap</span><span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">ICON_LOCATION</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setIconPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Information</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
    
                
        <span class="k">else</span><span class="p">:</span>
            <span class="n">message_box</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># Icono de advertencia</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;No connected device &quot;</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;No connected device was found&quot;</span><span class="p">)</span>
            <span class="n">pixmap</span><span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">ICON_LOCATION</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setIconPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Information</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span></div>
            
    

<div class="viewcode-block" id="MainWindow.about_settings"><a class="viewcode-back" href="../main.html#main.MainWindow.about_settings">[docs]</a>    <span class="k">def</span> <span class="nf">about_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens the About window displaying information about the company, version, and repository.</span>

<span class="sd">        This function opens a window showing details about the company (Tausand), the software version, </span>
<span class="sd">        and the location of the repository. It does not perform any checks or validations and directly </span>
<span class="sd">        displays the About window.</span>

<span class="sd">        It does not take any parameters and does not return a value.</span>
<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">settings_windows_dialog</span><span class="o">=</span><span class="n">QDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">settings_windows</span><span class="o">=</span><span class="n">Ui_AboutDialog</span><span class="p">()</span>
        <span class="n">settings_windows</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="n">settings_windows_dialog</span><span class="p">)</span>
        <span class="n">settings_windows_dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span></div>
  
 
<span class="c1">#This function is not use for the Tempico Version 1.1</span>
<span class="c1">#TO DO: Comment the function for a future version    </span>
<div class="viewcode-block" id="MainWindow.parameters_action"><a class="viewcode-back" href="../main.html#main.MainWindow.parameters_action">[docs]</a>    <span class="k">def</span> <span class="nf">parameters_action</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">grafico</span><span class="o">.</span><span class="n">currentmeasurement</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dialogParameters</span><span class="o">=</span><span class="n">QDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">uiParameter</span> <span class="o">=</span> <span class="n">UiParameters</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">uiParameter</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dialogParameters</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="o">.</span><span class="n">timerStatus</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parametersLogic</span><span class="o">=</span><span class="n">CountParameters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uiParameter</span><span class="o">.</span><span class="n">channelComboBox</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">conectedDevice</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">uiParameter</span><span class="o">.</span><span class="n">measurementLabel</span><span class="p">,</span>
                                                     <span class="bp">self</span><span class="o">.</span><span class="n">uiParameter</span><span class="o">.</span><span class="n">measuremetStatusLabel</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">uiParameter</span><span class="o">.</span><span class="n">informationMeasureLabel</span><span class="p">,</span>
                                                     <span class="bp">self</span><span class="o">.</span><span class="n">uiParameter</span><span class="o">.</span><span class="n">startButton</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">uiParameter</span><span class="o">.</span><span class="n">stopButton</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">dialogParameters</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">g2Graphic</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dialogParameters</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">message_box</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  
                <span class="n">message_box</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Running measurement&quot;</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;It is not possible to make changes when a measurement is running.&quot;</span><span class="p">)</span>
                <span class="n">pixmap</span><span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">ICON_LOCATION</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setIconPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Information</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
                <span class="n">message_box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
                
        <span class="k">else</span><span class="p">:</span>
            <span class="n">message_box</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  
            <span class="n">message_box</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;No connected Device &quot;</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;No connected device was found&quot;</span><span class="p">)</span>
            <span class="n">pixmap</span><span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">ICON_LOCATION</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setIconPixmap</span><span class="p">(</span><span class="n">pixmap</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Information</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="n">message_box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
        
        <span class="k">pass</span>    </div>
    
<div class="viewcode-block" id="MainWindow.closeEvent"><a class="viewcode-back" href="../main.html#main.MainWindow.closeEvent">[docs]</a>    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles the close event of the main window and prompts the user for confirmation.</span>

<span class="sd">        This function is triggered when the user attempts to close the main window. It displays </span>
<span class="sd">        a dialog asking if the user is sure about closing the application (Tempico software). </span>
<span class="sd">        If the user confirms by selecting &quot;Yes&quot;, the event is accepted and the application closes. </span>
<span class="sd">        If the user selects &quot;No&quot;, the close event is ignored, and the application remains open.</span>

<span class="sd">        :param event: The close event triggered when attempting to close the window.</span>
<span class="sd">        :type event: QCloseEvent</span>
<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">question</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Exit&#39;</span><span class="p">,</span> 
            <span class="s2">&quot;Are you sure you want to close tempico software?&quot;</span><span class="p">,</span> 
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">,</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>
            <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>  
        <span class="k">else</span><span class="p">:</span>
            <span class="n">event</span><span class="o">.</span><span class="n">ignore</span><span class="p">()</span> </div>
    <span class="c1">#Resize the graphics</span>
<div class="viewcode-block" id="MainWindow.resizeEvent"><a class="viewcode-back" href="../main.html#main.MainWindow.resizeEvent">[docs]</a>    <span class="k">def</span> <span class="nf">resizeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles the window resize event and adjusts the column widths of the parameters table.</span>

<span class="sd">        This function is triggered when the user resizes the main window. It resizes the columns </span>
<span class="sd">        of the parameters table in the FLIM tab based on the current window width. The column </span>
<span class="sd">        widths are scaled proportionally to ensure the table adapts to the new window size.</span>

<span class="sd">        :param event: The resize event triggered when the window is resized.</span>
<span class="sd">        :type event: QResizeEvent</span>
<span class="sd">        :returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">FLIMGraphic</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">currentValue</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parametersTable</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">currentValue</span><span class="o">*</span><span class="mi">1</span><span class="o">/</span><span class="mi">50</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parametersTable</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">currentValue</span><span class="o">*</span><span class="mi">1</span><span class="o">/</span><span class="mi">10</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parametersTable</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">currentValue</span><span class="o">*</span><span class="mi">1</span><span class="o">/</span><span class="mi">10</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parametersTable</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">currentValue</span><span class="o">*</span><span class="mi">1</span><span class="o">/</span><span class="mi">50</span><span class="p">)))</span></div></div>
            

        


        


<span class="c1">#--------Execution Test----------#</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">([])</span>
    <span class="n">splash_pix</span> <span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">BANNER</span><span class="p">)</span>
    <span class="n">desired_size</span> <span class="o">=</span> <span class="n">QSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
    <span class="n">splash_pix</span> <span class="o">=</span> <span class="n">splash_pix</span><span class="o">.</span><span class="n">scaled</span><span class="p">(</span><span class="n">desired_size</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">KeepAspectRatio</span><span class="p">)</span>
    <span class="n">splash</span> <span class="o">=</span> <span class="n">QSplashScreen</span><span class="p">(</span><span class="n">splash_pix</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">WindowStaysOnTopHint</span><span class="p">)</span>
    <span class="n">splash</span><span class="o">.</span><span class="n">setFixedSize</span><span class="p">(</span><span class="n">desired_size</span><span class="p">)</span>
    <span class="c1"># Comprobar si estamos en Ubuntu</span>
    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">!=</span> <span class="s1">&#39;linux&#39;</span><span class="p">:</span>  <span class="c1"># Si no estamos en Ubuntu, aplicar opacidad</span>
        <span class="n">opaqueness</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">step</span> <span class="o">=</span> <span class="mf">0.1</span>
        <span class="n">splash</span><span class="o">.</span><span class="n">setWindowOpacity</span><span class="p">(</span><span class="n">opaqueness</span><span class="p">)</span>

        <span class="k">while</span> <span class="n">opaqueness</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">splash</span><span class="o">.</span><span class="n">setWindowOpacity</span><span class="p">(</span><span class="n">opaqueness</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
            <span class="n">opaqueness</span> <span class="o">+=</span> <span class="n">step</span>

        <span class="n">splash</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Mostrar splash por 1 segundo</span>
        <span class="n">splash</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">window</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
        <span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">splash</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">splash</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">window</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
        <span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        
    <span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

<div class="viewcode-block" id="execProgram"><a class="viewcode-back" href="../main.html#main.execProgram">[docs]</a><span class="k">def</span> <span class="nf">execProgram</span><span class="p">():</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">([])</span>
    <span class="n">splash_pix</span> <span class="o">=</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">BANNER</span><span class="p">)</span>
    <span class="n">desired_size</span> <span class="o">=</span> <span class="n">QSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>  
    <span class="n">splash_pix</span> <span class="o">=</span> <span class="n">splash_pix</span><span class="o">.</span><span class="n">scaled</span><span class="p">(</span><span class="n">desired_size</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">KeepAspectRatio</span><span class="p">)</span>
    <span class="n">splash</span> <span class="o">=</span> <span class="n">QSplashScreen</span><span class="p">(</span><span class="n">splash_pix</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">WindowStaysOnTopHint</span><span class="p">)</span>
    <span class="n">splash</span><span class="o">.</span><span class="n">setFixedSize</span><span class="p">(</span><span class="n">desired_size</span><span class="p">)</span>
    <span class="n">opaqueness</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">step</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="n">splash</span><span class="o">.</span><span class="n">setWindowOpacity</span><span class="p">(</span><span class="n">opaqueness</span><span class="p">)</span>
    <span class="n">splash</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">while</span> <span class="n">opaqueness</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">splash</span><span class="o">.</span><span class="n">setWindowOpacity</span><span class="p">(</span><span class="n">opaqueness</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>  
        <span class="n">opaqueness</span> <span class="o">+=</span> <span class="n">step</span>

    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  
    <span class="n">splash</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> 
    <span class="n">window</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
    <span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, David Guzman, Joan Amaya.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>